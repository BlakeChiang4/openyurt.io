<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="yurt-e2e-test" />
	<meta name="description" content="yurt-e2e-test" />
	<!-- 网页标签标题 -->
	<title>yurt-e2e-test</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/OpenYurt.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/en-us/index.html" target="_self">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/en-us/docs/developer-guide.html" target="_self">DOCS</a></li><li class="menu-item menu-item-normal"><a href="/en-us/blog/index.html" target="_self">BLOG</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>Documentation</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>OpenYurt</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/developer-guide.html" target="_self">Developer Guide</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/roadmap.html" target="_self">Roadmap</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/todo.html" target="_self">Todo</a></li><li style="height:252px;overflow:hidden" class="menu-item menu-item-level-2"><span>Tutorial<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/yurt-e2e-test.html" target="_self">Yurt-e2e-test</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/manually-setup.html" target="_self">Manually Setup</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/yurtctl.html" target="_self">Yurtctl tutorial</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/yurt-app-manager-dev.html" target="_self">Yurt app manager dev tutorial</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/yurt-app-manager.html" target="_self">Yurt app manager tutorial</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/tutorial/yurt-tunnel.html" target="_self">Yurt Tunnel tutorial</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Yurt-e2e-test</h1>
<p>This tutorial shows how to build and run the e2e test for OpenYurt. The test for node autonomy is still under development.</p>
<h2>Build</h2>
<p>Let's build the e2e binary yurt-e2e-test as follow:</p>
<ol>
<li>entering the openyurt work path:</li>
</ol>
<pre><code class="language-bash"> <span class="hljs-variable">$cd</span> openyurt
</code></pre>
<ol start="2">
<li>building the binary:</li>
</ol>
<pre><code class="language-bash">$ make e2e
</code></pre>
<h2>RUN Test</h2>
<p>You can use yurt-e2e-test binary to test Openyurt.</p>
<ol>
<li>If you run yurt-e2e-test without node autonomy test, such as:</li>
</ol>
<pre><code class="language-bash">$ ./_output/bin/darwin/amd64/yurt-e2e-test --kubeconfig=/root/.kube/config  --report-dir=./
</code></pre>
<p>This will run some basic tests after k8s is converted to openyurt. It refers to the operation of namespace and pod.</p>
<ol start="2">
<li>If you run yurt-e2e-test, and want to test yurt node autonomy on local machine. For example, it can run on minikube as follows. In this way, it depends on yourself to restart node. And yurt-e2e-test will wait for restarting node and checking pod status to test yurt node autonomy.</li>
</ol>
<pre><code>$ ./_output/bin/darwin/amd64/yurt-e2e-test --kubeconfig=/root/.kube/config  --report-dir=./  --enable-yurt-autonomy=true
</code></pre>
<ol start="3">
<li>If you want to test yurt node autonomy on aliyun ecs or aliyun ens with binary of yurt-e2e-test, TBD.</li>
</ol>
<h2>Check test result</h2>
<p>You can check test result in stdout or in file yurt-e2e-test-report_01.xml</p>
</div></section><footer class="footer-container"><div class="cloud-native"><div class="container"><img src="https://d33wubrfki0l68.cloudfront.net/ea0d91fac8683c38ea9a1fb8a4e9914627ac6aae/8efa9/img/logos/cloud-native-computing.svg"/><p>We are a <a href="https://www.cncf.io">Cloud Native Computing Foundation</a> sandbox project.</p></div></div><div class="copyright"><span>Copyright © 2021 The OpenYurt Authors. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: <a href="https://www.linuxfoundation.org/trademark-usage">https://www.linuxfoundation.org/trademark-usage</a></span></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>